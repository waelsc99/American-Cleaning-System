<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ© Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù†Ø¸Ø§ÙØ© ÙˆØ§Ù„Ø¨ÙŠØ¦Ø©</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #34495e;
            --accent-color: #16a085;
            --text-color: #ecf0f1;
            --background: #1a1a1a;
        }

        * { 
            box-sizing: border-box; 
            margin: 0; 
            padding: 0; 
        }

        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--background);
            color: var(--text-color);
            min-height: 100vh;
            overflow: hidden;
        }

        .header {
            background: var(--primary-color);
            padding: 15px 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 3px solid var(--accent-color);
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .company-name {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--text-color);
        }

        .system-title {
            font-size: 1.1em;
            color: var(--accent-color);
            font-style: italic;
        }

        .language-switcher {
            background: var(--secondary-color);
            color: var(--text-color);
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
        }

        .main-container {
            display: flex;
            height: calc(100vh - 70px);
        }

        .sidebar {
            width: 250px;
            background: var(--secondary-color);
            padding: 20px;
            border-right: 1px solid #34495e;
        }

        .nav-item {
            padding: 12px 15px;
            margin: 5px 0;
            background: var(--primary-color);
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .nav-item:hover {
            background: var(--accent-color);
        }

        .content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .login-section {
            background: var(--secondary-color);
            padding: 30px;
            border-radius: 10px;
            max-width: 400px;
            margin: 50px auto;
            text-align: center;
        }

        .login-input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            background: var(--primary-color);
            border: 1px solid #34495e;
            border-radius: 5px;
            color: var(--text-color);
        }

        .login-btn {
            width: 100%;
            padding: 12px;
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            margin-top: 10px;
        }

        .attendance-section {
            background: var(--secondary-color);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin: 5px;
            transition: all 0.3s;
        }

        .btn-primary { background: var(--accent-color); color: white; }
        .btn-success { background: #27ae60; color: white; }
        .btn-danger { background: #e74c3c; color: white; }
        .btn-warning { background: #f39c12; color: black; }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .section {
            display: none;
        }

        .active {
            display: block;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--secondary-color);
        }

        th, td {
            padding: 12px;
            text-align: center;
            border: 1px solid #34495e;
        }

        th {
            background: var(--primary-color);
        }
    </style>
</head>
<body>
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div id="loginSection" class="active">
        <div class="header">
            <div class="logo-section">
                <div class="company-name">American Cleaning & Environment Services</div>
                <div class="system-title">Smart Attendance System</div>
            </div>
        </div>
        
        <div class="login-section">
            <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
            <input type="text" id="username" class="login-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" value="admin">
            <input type="password" id="password" class="login-input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" value="admin123">
            <button class="login-btn" onclick="login()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…</button>
            <p style="margin-top: 15px; color: #bdc3c7;">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: admin / admin123</p>
        </div>
    </div>

    <!-- Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div id="mainApp" class="section">
        <div class="header">
            <div class="logo-section">
                <div class="company-name">Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ© Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù†Ø¸Ø§ÙØ© ÙˆØ§Ù„Ø¨ÙŠØ¦Ø©</div>
                <div class="system-title">Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù Ø§Ù„Ø°ÙƒÙŠ</div>
            </div>
            <button class="language-switcher" onclick="toggleLanguage()">EN/AR</button>
        </div>

        <div class="main-container">
            <div class="sidebar">
                <div class="nav-item" onclick="showSection('attendance')">ğŸ“Š Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù</div>
                <div class="nav-item" onclick="showSection('employees')">ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</div>
                <div class="nav-item" onclick="showSection('reports')">ğŸ“ˆ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</div>
                <div class="nav-item" onclick="showSection('settings')">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</div>
                <div class="nav-item" onclick="logout()">ğŸšª Ø®Ø±ÙˆØ¬</div>
            </div>

            <div class="content">
                <!-- Ù‚Ø³Ù… Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù -->
                <div id="attendance-section" class="section active">
                    <h2>â° ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù</h2>
                    <div class="attendance-section">
                        <input type="text" id="employeeId" class="login-input" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¸Ù">
                        <input type="password" id="employeePin" class="login-input" placeholder="ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ">
                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="btn btn-success" onclick="checkIn()">âœ… ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</button>
                            <button class="btn btn-danger" onclick="checkOut()">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
                        </div>
                    </div>
                    <div id="attendance-result" style="margin-top: 20px;"></div>
                </div>

                <!-- Ù‚Ø³Ù… Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† -->
                <div id="employees-section" class="section">
                    <h2>ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</h2>
                    <button class="btn btn-primary" onclick="addEmployee()">â• Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¸Ù</button>
                    <div id="employees-list"></div>
                </div>

                <!-- Ù‚Ø³Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± -->
                <div id="reports-section" class="section">
                    <h2>ğŸ“ˆ ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø­Ø¶ÙˆØ±</h2>
                    <button class="btn btn-warning" onclick="generateReport()">ğŸ”„ ØªÙˆÙ„ÙŠØ¯ ØªÙ‚Ø±ÙŠØ±</button>
                    <div id="reports-list"></div>
                </div>

                <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
                <div id="settings-section" class="section">
                    <h2>âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</h2>
                    <div class="attendance-section">
                        <h3>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ©</h3>
                        <input type="text" id="companyName" class="login-input" value="Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ© Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù†Ø¸Ø§ÙØ© ÙˆØ§Ù„Ø¨ÙŠØ¦Ø©">
                        <input type="text" id="companySlogan" class="login-input" value="Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù Ø§Ù„Ø°ÙƒÙŠ">
                        
                        <h3 style="margin-top: 20px;">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¯ÙŠØ±</h3>
                        <input type="text" id="adminUser" class="login-input" value="admin" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
                        <input type="password" id="adminPass" class="login-input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©">
                        
                        <button class="btn btn-primary" onclick="saveSettings()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
        let employees = JSON.parse(localStorage.getItem('employees')) || [
            { id: '101', name: 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯', pin: '1234', department: 'Ø§Ù„Ù†Ø¸Ø§ÙØ©', position: 'Ù…Ù†Ø¸Ù' },
            { id: '102', name: 'ÙØ§Ø·Ù…Ø© Ø¹Ù„ÙŠ', pin: '5678', department: 'Ø§Ù„Ø¨ÙŠØ¦Ø©', position: 'ÙÙ†ÙŠ Ø¨ÙŠØ¦Ø©' },
            { id: '103', name: 'Ù…Ø­Ù…Ø¯ Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…', pin: '9999', department: 'Ø§Ù„Ø¥Ø´Ø±Ø§Ù', position: 'Ù…Ø´Ø±Ù' }
        ];

        let attendanceRecords = JSON.parse(localStorage.getItem('attendanceRecords')) || [];
        let currentLanguage = 'ar';
        let currentUser = null;

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ù„ØºØ§Øª
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'ar' ? 'en' : 'ar';
            updateLanguage();
        }

        function updateLanguage() {
            const translations = {
                'attendance': { ar: 'ğŸ“Š Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù', en: 'ğŸ“Š Attendance' },
                'employees': { ar: 'ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†', en: 'ğŸ‘¥ Employees Management' },
                'reports': { ar: 'ğŸ“ˆ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±', en: 'ğŸ“ˆ Reports' },
                'settings': { ar: 'âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª', en: 'âš™ï¸ Settings' },
                'logout': { ar: 'ğŸšª Ø®Ø±ÙˆØ¬', en: 'ğŸšª Logout' }
            };
            
            document.querySelectorAll('.nav-item').forEach((item, index) => {
                const keys = Object.keys(translations);
                if (index < keys.length) {
                    item.textContent = translations[keys[index]][currentLanguage];
                }
            });

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø£Ø®Ø±Ù‰
            if (currentLanguage === 'en') {
                document.querySelector('.company-name').textContent = 'American Cleaning & Environment Services';
                document.querySelector('.system-title').textContent = 'Smart Attendance System';
            } else {
                document.querySelector('.company-name').textContent = 'Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ© Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù†Ø¸Ø§ÙØ© ÙˆØ§Ù„Ø¨ÙŠØ¦Ø©';
                document.querySelector('.system-title').textContent = 'Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù Ø§Ù„Ø°ÙƒÙŠ';
            }
        }

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯Ø®ÙˆÙ„
        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (username === 'admin' && password === 'admin123') {
                currentUser = { role: 'admin', name: 'Ø§Ù„Ù…Ø¯ÙŠØ±' };
                document.getElementById('loginSection').classList.remove('active');
                document.getElementById('mainApp').classList.add('active');
                loadEmployeesList();
                loadReports();
            } else {
                alert('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©!');
            }
        }

        function logout() {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
                currentUser = null;
                document.getElementById('mainApp').classList.remove('active');
                document.getElementById('loginSection').classList.add('active');
            }
        }

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        function showSection(sectionName) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionName + '-section').classList.add('active');
        }

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø¶ÙˆØ±
        function checkIn() {
            const employeeId = document.getElementById('employeeId').value;
            const pin = document.getElementById('employeePin').value;
            
            const employee = employees.find(emp => emp.id === employeeId && emp.pin === pin);
            
            if (employee) {
                const today = new Date().toLocaleDateString('ar-EG');
                const now = new Date().toLocaleTimeString('ar-EG');
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø³Ø¨Ù‚
                const existingRecord = attendanceRecords.find(record => 
                    record.employeeId === employeeId && record.date === today && !record.checkOut
                );
                
                if (existingRecord) {
                    showResult('âš ï¸ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„Ùƒ Ù…Ø³Ø¨Ù‚Ø§Ù‹ Ø§Ù„ÙŠÙˆÙ…!', 'error');
                    return;
                }
                
                const record = {
                    employeeId: employee.id,
                    employeeName: employee.name,
                    department: employee.department,
                    date: today,
                    checkIn: now,
                    checkOut: null
                };
                
                attendanceRecords.push(record);
                saveData();
                showResult(`âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­<br><strong>${employee.name}</strong><br>Ø§Ù„Ù‚Ø³Ù…: ${employee.department}<br>Ø§Ù„ÙˆÙ‚Øª: ${now}`, 'success');
            } else {
                showResult('âŒ Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¸Ù Ø£Ùˆ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­!', 'error');
            }
            
            clearInputs();
        }

        function checkOut() {
            const employeeId = document.getElementById('employeeId').value;
            const pin = document.getElementById('employeePin').value;
            
            const employee = employees.find(emp => emp.id === employeeId && emp.pin === pin);
            
            if (employee) {
                const today = new Date().toLocaleDateString('ar-EG');
                const now = new Date().toLocaleTimeString('ar-EG');
                
                const recordIndex = attendanceRecords.findIndex(record => 
                    record.employeeId === employeeId && record.date === today && record.checkOut === null
                );
                
                if (recordIndex !== -1) {
                    attendanceRecords[recordIndex].checkOut = now;
                    saveData();
                    showResult(`âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­<br><strong>${employee.name}</strong><br>Ø§Ù„ÙˆÙ‚Øª: ${now}`, 'success');
                } else {
                    showResult('âŒ Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„Ùƒ Ø§Ù„ÙŠÙˆÙ…!', 'error');
                }
            } else {
                showResult('âŒ Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¸Ù Ø£Ùˆ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­!', 'error');
            }
            
            clearInputs();
        }

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†
        function loadEmployeesList() {
            const listDiv = document.getElementById('employees-list');
            let html = '<table>';
            html += '<tr><th>Ø§Ù„Ø±Ù‚Ù…</th><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ù‚Ø³Ù…</th><th>Ø§Ù„Ù…Ù†ØµØ¨</th><th>Ø§Ù„ÙƒÙˆØ¯</th><th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th></tr>';
            
            employees.forEach(employee => {
                html += `
                    <tr>
                        <td>${employee.id}</td>
                        <td>${employee.name}</td>
                        <td>${employee.department}</td>
                        <td>${employee.position}</td>
                        <td>${employee.pin}</td>
                        <td>
                            <button class="btn btn-warning" onclick="editEmployee('${employee.id}')">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>
                            <button class="btn btn-danger" onclick="deleteEmployee('${employee.id}')">ğŸ—‘ï¸ Ø­Ø°Ù</button>
                        </td>
                    </tr>
                `;
            });
            
            html += '</table>';
            listDiv.innerHTML = html;
        }

        function addEmployee() {
            const name = prompt('Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¸Ù:');
            if (!name) return;
            
            const department = prompt('Ø§Ù„Ù‚Ø³Ù…:');
            if (!department) return;
            
            const position = prompt('Ø§Ù„Ù…Ù†ØµØ¨:');
            if (!position) return;
            
            const pin = prompt('Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ (4 Ø£Ø±Ù‚Ø§Ù…):');
            if (!pin) return;
            
            const newId = (employees.length > 0 ? 
                Math.max(...employees.map(emp => parseInt(emp.id))) + 1 : 101).toString();
            
            employees.push({
                id: newId,
                name: name,
                department: department,
                position: position,
                pin: pin
            });
            
            saveData();
            loadEmployeesList();
            alert(`âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ¸Ù ${name} Ø¨Ø±Ù‚Ù… ${newId}`);
        }

        function deleteEmployee(employeeId) {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¸ÙØŸ')) {
                employees = employees.filter(emp => emp.id !== employeeId);
                saveData();
                loadEmployeesList();
            }
        }

        // Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
        function loadReports() {
            const reportsDiv = document.getElementById('reports-list');
            let html = '<table>';
            html += '<tr><th>Ø§Ù„Ù…ÙˆØ¸Ù</th><th>Ø§Ù„Ù‚Ø³Ù…</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø§Ù„Ø¯Ø®ÙˆÙ„</th><th>Ø§Ù„Ø®Ø±ÙˆØ¬</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th></tr>';
            
            const recentRecords = attendanceRecords.slice(-20).reverse();
            
            if (recentRecords.length === 0) {
                html += '<tr><td colspan="6">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³Ø¬Ù„Ø§Øª Ø­Ø¶ÙˆØ±</td></tr>';
            } else {
                recentRecords.forEach(record => {
                    const status = record.checkOut ? 'ğŸŸ¢ Ù…ÙƒØªÙ…Ù„' : 'ğŸŸ¡ Ù„Ù… ÙŠØ³Ø¬Ù„ Ø®Ø±ÙˆØ¬';
                    html += `
                        <tr>
                            <td>${record.employeeName}</td>
                            <td>${record.department}</td>
                            <td>${record.date}</td>
                            <td>${record.checkIn}</td>
                            <td>${record.checkOut || '---'}</td>
                            <td>${status}</td>
                        </tr>
                    `;
                });
            }
            
            html += '</table>';
            reportsDiv.innerHTML = html;
        }

        function generateReport() {
            loadReports();
            alert('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø±ÙŠØ±');
        }

        // Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        function saveSettings() {
            const companyName = document.getElementById('companyName').value;
            const companySlogan = document.getElementById('companySlogan').value;
            const newPassword = document.getElementById('adminPass').value;
            
            localStorage.setItem('companyName', companyName);
            localStorage.setItem('companySlogan', companySlogan);
            
            if (newPassword) {
                // ÙÙŠ Ù†Ø¸Ø§Ù… Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ù‡Ù†Ø§ ÙŠØªÙ… ØªØ´ÙÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                alert('âš ï¸ ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØŒ Ø³ÙŠØªÙ… ØªØ´ÙÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
            }
            
            alert('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
        }

        // ÙˆØ¸Ø§Ø¦Ù Ù…Ø³Ø§Ø¹Ø¯Ø©
        function showResult(message, type) {
            const resultDiv = document.getElementById('attendance-result');
            resultDiv.innerHTML = message;
            resultDiv.style.cssText = `
                padding: 15px; 
                margin: 10px 0; 
                border-radius: 5px; 
                text-align: center;
                background: ${type === 'success' ? '#d4edda' : '#f8d7da'};
                color: ${type === 'success' ? '#155724' : '#721c24'};
                border: 1px solid ${type === 'success' ? '#c3e6cb' : '#f5c6cb'};
            `;
        }

        function clearInputs() {
            document.getElementById('employeeId').value = '';
            document.getElementById('employeePin').value = '';
        }

        function saveData() {
            localStorage.setItem('employees', JSON.stringify(employees));
            localStorage.setItem('attendanceRecords', JSON.stringify(attendanceRecords));
        }

        // Ù…Ù†Ø¹ Ø§Ù„Ø®Ø±ÙˆØ¬
        window.onbeforeunload = function(e) {
            if (currentUser) {
                e.preventDefault();
                e.returnValue = 'Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ù‚Ø§Ù‹ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù…ØŸ';
                return 'Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ù‚Ø§Ù‹ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù…ØŸ';
            }
        };

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
        window.onload = function() {
            const savedCompanyName = localStorage.getItem('companyName');
            const savedSlogan = localStorage.getItem('companySlogan');
            
            if (savedCompanyName) {
                document.getElementById('companyName').value = savedCompanyName;
            }
            if (savedSlogan) {
                document.getElementById('companySlogan').value = savedSlogan;
            }
        }
    </script>
</body>
</html>
